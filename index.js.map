{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/products-api.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["export default {\n    listEl: document.querySelector('.categories'),\n    productsListEl: document.querySelector('.products'),\n    notFound: document.querySelector('div.not-found'),\n}","import Axios from \"axios\";\n\n\nconst axios = Axios.create({\n    baseURL: 'https://dummyjson.com/products',    \n})   \n\nexport async function getCategories() {\n    const res = await axios.get('/category-list');\n    console.log(res);\n    return res.data;    \n}\n\nexport async function getProducts(currentPage = 1) {\n    const res = await axios.get(`?limit=12&skip=${(currentPage - 1) * 12}`);\n    return res.data.products;\n}\n \nexport async function getProductsByCategory(category, currentPage = 1) {\n    const res = await axios.get(`/category/${category}?limit=12&skip=${(currentPage - 1) * 12}`);\n    console.log(res.data.products);\n    \n    return res.data.products;\n}\n\n","import refs from './refs';\nexport function categoriesTemplate(categoriesArr) {\n    categoriesArr.unshift('All');\n    return categoriesArr.map(categoryTemplate).join('');\n}\nexport function categoryTemplate(category) {   \n    return `<li class=\"categories__item\">\n   <button class=\"categories__btn\" type=\"button\">${category}</button>\n </li>\n`\n}\n\nexport function productItem({id, \nthumbnail, title, brand, category, price}) {\n    return `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${thumbnail}\" alt=\"${title}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category: ${category}</p>\n    <p class=\"products__price\">Price:${price} $</p>\n </li>\n`\n}\n\nexport function renderProductList(products) {\n    console.log(products);\n    \n    refs.productsListEl.innerHTML = products.map(productItem).join('');\n}\n\n","import refs from './js/refs';\nimport { getCategories,getProducts, getProductsByCategory } from './js/products-api';\nimport { categoriesTemplate, renderProductList} from './js/render-function';\n\nasync function initLoad() {\n    const categoriesArr = await getCategories()\n    const markup = categoriesTemplate(categoriesArr);\n    refs.listEl.innerHTML = markup;\n    const btns = document.querySelectorAll('.categories__btn');\n    btns.forEach(btn => {\n        console.log(btn.textContent);\n        \n        if (btn.textContent === 'All') {\n            btn.classList.add('categories__btn--active');\n        }\n    })\n    const productArr = await getProducts()\n    console.log(productArr);\n    renderProductList(productArr);\n}\ninitLoad();\nlet lastActiveBtn = null;\nrefs.listEl.addEventListener('click', handleCategories);\nasync function handleCategories(e) {\n    if (!e.target.classList.contains('categories__btn')) {\n        return;\n    }\n    refs.notFound.classList.remove('not-found--visible');\n    if (lastActiveBtn) {\n        lastActiveBtn.classList.remove('categories__btn--active')\n    }\n    lastActiveBtn = e.target;\n    const category = e.target.textContent;\n    e.target.classList.add('categories__btn--active');\n    let products = [];\n\n    if (category === 'All') {\n        products = await getProducts();\n    } else {\n        products = await getProductsByCategory(category);\n    }\n    if (products.length === 0) {\n        refs.notFound.classList.add('not-found--visible');\n    }\n    renderProductList(products);\n}\n\n"],"names":["refs","axios","Axios","getCategories","res","getProducts","currentPage","getProductsByCategory","category","categoriesTemplate","categoriesArr","categoryTemplate","productItem","id","thumbnail","title","brand","price","renderProductList","products","initLoad","markup","btn","productArr","lastActiveBtn","handleCategories","e"],"mappings":"oFAAA,MAAeA,EAAA,CACX,OAAQ,SAAS,cAAc,aAAa,EAC5C,eAAgB,SAAS,cAAc,WAAW,EAClD,SAAU,SAAS,cAAc,eAAe,CACpD,ECDMC,EAAQC,EAAM,OAAO,CACvB,QAAS,gCACb,CAAC,EAEM,eAAeC,GAAgB,CAClC,MAAMC,EAAM,MAAMH,EAAM,IAAI,gBAAgB,EAC5C,eAAQ,IAAIG,CAAG,EACRA,EAAI,IACf,CAEO,eAAeC,EAAYC,EAAc,EAAG,CAE/C,OADY,MAAML,EAAM,IAAI,mBAAmBK,EAAc,GAAK,EAAE,EAAE,GAC3D,KAAK,QACpB,CAEO,eAAeC,EAAsBC,EAAUF,EAAc,EAAG,CACnE,MAAMF,EAAM,MAAMH,EAAM,IAAI,aAAaO,CAAQ,mBAAmBF,EAAc,GAAK,EAAE,EAAE,EAC3F,eAAQ,IAAIF,EAAI,KAAK,QAAQ,EAEtBA,EAAI,KAAK,QACpB,CCtBO,SAASK,EAAmBC,EAAe,CAC9C,OAAAA,EAAc,QAAQ,KAAK,EACpBA,EAAc,IAAIC,CAAgB,EAAE,KAAK,EAAE,CACtD,CACO,SAASA,EAAiBH,EAAU,CACvC,MAAO;AAAA,mDACwCA,CAAQ;AAAA;AAAA,CAG3D,CAEO,SAASI,EAAY,CAAC,GAAAC,EAC7B,UAAAC,EAAW,MAAAC,EAAO,MAAAC,EAAO,SAAAR,EAAU,MAAAS,CAAK,EAAG,CACvC,MAAO,uCAAuCJ,CAAE;AAAA,wCACZC,CAAS,UAAUC,CAAK;AAAA,iCAC/BA,CAAK;AAAA,2EACqCC,CAAK;AAAA,8CAClCR,CAAQ;AAAA,uCACfS,CAAK;AAAA;AAAA,CAG5C,CAEO,SAASC,EAAkBC,EAAU,CACxC,QAAQ,IAAIA,CAAQ,EAEpBnB,EAAK,eAAe,UAAYmB,EAAS,IAAIP,CAAW,EAAE,KAAK,EAAE,CACrE,CCxBA,eAAeQ,GAAW,CACtB,MAAMV,EAAgB,MAAMP,EAAe,EACrCkB,EAASZ,EAAmBC,CAAa,EAC/CV,EAAK,OAAO,UAAYqB,EACX,SAAS,iBAAiB,kBAAkB,EACpD,QAAQC,GAAO,CAChB,QAAQ,IAAIA,EAAI,WAAW,EAEvBA,EAAI,cAAgB,OACpBA,EAAI,UAAU,IAAI,yBAAyB,CAEvD,CAAK,EACD,MAAMC,EAAa,MAAMlB,EAAa,EACtC,QAAQ,IAAIkB,CAAU,EACtBL,EAAkBK,CAAU,CAChC,CACAH,IACA,IAAII,EAAgB,KACpBxB,EAAK,OAAO,iBAAiB,QAASyB,CAAgB,EACtD,eAAeA,EAAiBC,EAAG,CAC/B,GAAI,CAACA,EAAE,OAAO,UAAU,SAAS,iBAAiB,EAC9C,OAEJ1B,EAAK,SAAS,UAAU,OAAO,oBAAoB,EAC/CwB,GACAA,EAAc,UAAU,OAAO,yBAAyB,EAE5DA,EAAgBE,EAAE,OAClB,MAAMlB,EAAWkB,EAAE,OAAO,YAC1BA,EAAE,OAAO,UAAU,IAAI,yBAAyB,EAChD,IAAIP,EAAW,CAAA,EAEXX,IAAa,MACbW,EAAW,MAAMd,IAEjBc,EAAW,MAAMZ,EAAsBC,CAAQ,EAE/CW,EAAS,SAAW,GACpBnB,EAAK,SAAS,UAAU,IAAI,oBAAoB,EAEpDkB,EAAkBC,CAAQ,CAC9B"}